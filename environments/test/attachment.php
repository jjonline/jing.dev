<?php
/**
 * 附件存储引擎配置
 * @user Jea杨 (JJonline@JJonline.Cn)
 * @date 2019-02-28 22:11
 * @file attachment.php
 */
return [
    /*
    |--------------------------------------------------------------------------
    | 附件存储引擎支持的列表，请不要修改，除非你知道自己在做什么！
    |--------------------------------------------------------------------------
    */
    'attachment_engine_map' => [
        'local', // 服务器本地存储，默认存储引擎
        'oss'    // 阿里云OSS
    ],

    /*
    |--------------------------------------------------------------------------
    | 配置前台使用的附件引擎方式，只能是local或attachment_engine参数指定的另外的引擎
    |--------------------------------------------------------------------------
    |
    | [^^^无论使用那个引擎，服务器本地都会有一份存储^^^]
    |
    | 该参数的意义：
    |    启用了attachment_engine并且不是local时，可以指定前端是使用local的还是attachment_engine指定的附件源
    |    譬如attachment_engine启用了oss，那么local本地和oss中都有一份附件资源，前端可以选择使用local中的也可以选择使用oss中的
    |
    | ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    | 该配置项只能是local或attachment_engine指定的，留空则取attachment_engine配置值
    | ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    */
    'attachment_frontend_use' => '',

    /*
    |--------------------------------------------------------------------------
    | 私有资源加密访问的资源url有效期，单位：秒
    |--------------------------------------------------------------------------
    */
    'attachment_expire_time' => 1800,

    /*
    |--------------------------------------------------------------------------
    | 附件存储引擎，即站内附件存储到指定配置引擎下
    |--------------------------------------------------------------------------
    |
    | 附件存储引擎，不同引擎需要不同特性配置，见下方对应引擎名称key的配置项目
    |
    | ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    | 配置值只能从attachment_engine_map数组中使用1个
    | ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    |
    */
    'attachment_engine' => 'local',

    /*
    |--------------------------------------------------------------------------
    | 本地存储不需要特性配置
    |--------------------------------------------------------------------------
    */
    // 'local' => [],

    /*
    |--------------------------------------------------------------------------
    | 阿里云OSS存储的特性配置
    |--------------------------------------------------------------------------
    |
    | 配置存储bucket
    | 配置访问域名，待scheme协议
    | 配置access_key、access_secret
    |
    */
    'oss'   => [
        /**
         * OSS公共开放资源相关特性配置
         * ---
         * 即通过资源的url即可任意访问的资源所在的oss特性配置
         * ---
         */
        'frontend' => [
            /*
             |--------------------------------------------------------------------------
             | 是否启用https访问协议
             |--------------------------------------------------------------------------
             */
            'is_ssl' => true,
            /*
             |--------------------------------------------------------------------------
             | 访问OSS资源的自定义域名，如留空则自动使用bucket和endpoint构造
             | 一般是在OSS绑定了自定义域名的情况时在此指定绑定域名
             | 例如：www.oss.com
             |--------------------------------------------------------------------------
             */
            'domain' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS的bucket名称
             |--------------------------------------------------------------------------
             */
            'bucket' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS所在区域标识
             |--------------------------------------------------------------------------
             | 详见：https://help.aliyun.com/document_detail/31837.html
             */
            'endpoint' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS访问所用使用access_key_id
             |--------------------------------------------------------------------------
             */
            'access_key_id' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS访问所用使用access_key_secret
             |--------------------------------------------------------------------------
             */
            'access_key_secret' => '',
        ],
        /**
         * OSS私有资源相关特性配置
         * ---
         * 即私有资源的oss特性配置，若要访问则需要计算授权参数，在url基础上附加授权参数和过期时间方可访问到
         * ---
         */
        'safe'   => [
            /*
            |--------------------------------------------------------------------------
            | 是否启用https访问协议
            |--------------------------------------------------------------------------
            */
            'is_ssl' => true,
            /*
             |--------------------------------------------------------------------------
             | 访问OSS资源的自定义域名，如留空则自动使用bucket和endpoint构造
             | 一般是在OSS绑定了自定义域名的情况时在此指定绑定域名
             |--------------------------------------------------------------------------
             */
            'domain' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS的bucket名称
             |--------------------------------------------------------------------------
             */
            'bucket' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS所在区域标识
             |--------------------------------------------------------------------------
             | 详见：https://help.aliyun.com/document_detail/31837.html
             */
            'endpoint' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS访问所用使用access_key_id
             |--------------------------------------------------------------------------
             */
            'access_key_id' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS访问所用使用access_key_secret
             |--------------------------------------------------------------------------
             */
            'access_key_secret' => '',
        ],
    ],
];
