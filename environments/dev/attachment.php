<?php
/**
 * 附件存储引擎配置
 * @user Jea杨 (JJonline@JJonline.Cn)
 * @date 2019-02-28 22:11
 * @file attachment.php
 */
return [
    /*
    |--------------------------------------------------------------------------
    | 附件存储引擎支持的列表，下方使用时请注意区分大小写 !请不要修改，除非你知道自己在做什么！
    |--------------------------------------------------------------------------
    */
    'attachment_engine_map' => [
        'local',  // 服务器本地存储，默认存储引擎
        'oss',    // 阿里云OSS
        'qiniu',  // 七牛云存储
    ],

    /*
    |--------------------------------------------------------------------------
    | 配置前台使用的附件引擎方式，取值范围为attachment_engine_map指定项目中的某1个
    |--------------------------------------------------------------------------
    |
    | [^^^无论使用哪个外部存储引擎，服务器本地都会有一份存储^^^]
    |
    | 该参数的意义：
    |    启用了attachment_engine并且不是local时，可以指定前端是使用local的还是attachment_engine指定的附件源
    |    譬如attachment_engine启用了oss，那么local本地和oss中都有一份附件资源，前端可以选择使用local中的也可以选择使用oss中的
    |
    | ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    | 项取值范围为attachment_engine_map指定项目，留空则取attachment_engine第一个配置值
    | attachment_engine仍然为空则使用local本地
    | ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    */
    'attachment_frontend_use' => '',

    /*
    |--------------------------------------------------------------------------
    | 私有资源加密访问的资源url有效期，单位：秒
    |--------------------------------------------------------------------------
    */
    'attachment_expire_time' => 1800,

    /*
    |--------------------------------------------------------------------------
    | 附件存储引擎，即站内附件存储到指定配置引擎下
    |--------------------------------------------------------------------------
    |
    | [^^^无论使用哪个外部存储引擎，服务器本地都会有一份存储^^^]
    |
    |--------------------------------------------------------------------------
    |
    | 附件存储引擎，不同引擎需要不同特性配置，见下方对应引擎名称key的配置项目
    |
    | ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    | 配置值只能从attachment_engine_map数组中使用1个或多个，多个请使用数组或半角逗号分隔
    | 例如：
    | local            仅使用本地存储
    | oss,qiniu        同时使用oss和qiniu，半角逗号分隔形式
    | ['oss','qiniu']  同时使用oss和qiniu，数组形式
    | 不宜指定过多的引擎，可能会导致前端上传响应缓慢
    | 本配置项配置后，系统有资源上传时系统将自动同步资源到指定engine中
    | ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
    |
    |
    |   再次告知：附件模块无论采用何种外部引擎服务器本地均会有1个备份存储
    |
    |
    */
    'attachment_engine' => 'local',

    /*
    |--------------------------------------------------------------------------
    | 本地存储不需要特性配置，暂无
    |--------------------------------------------------------------------------
    */
    // 'local' => [],

    /*
    |--------------------------------------------------------------------------
    | 阿里云OSS存储的特性配置
    |--------------------------------------------------------------------------
    |
    | 配置是否启用ssl即http访问
    | 配置存储bucket
    | 配置访问域名
    | 配置access_key、access_secret
    |
    */
    'oss' => [
        /**
         * OSS公共开放资源相关特性配置
         * ---
         * 即通过资源的url即可任意访问的资源所在的oss特性配置
         * ---
         */
        'frontend' => [
            /*
             |--------------------------------------------------------------------------
             | 是否启用https访问协议
             |--------------------------------------------------------------------------
             */
            'is_ssl' => true,
            /*
             |--------------------------------------------------------------------------
             | 访问OSS资源的自定义域名，如留空则自动使用bucket和endpoint构造
             | 一般是在OSS绑定了自定义域名的情况时在此指定绑定域名
             | 例如：www.oss.com
             |--------------------------------------------------------------------------
             */
            'domain' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS的bucket名称
             |--------------------------------------------------------------------------
             */
            'bucket' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS所在区域标识
             |--------------------------------------------------------------------------
             | 详见：https://help.aliyun.com/document_detail/31837.html
             */
            'endpoint' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS访问所用使用access_key_id
             |--------------------------------------------------------------------------
             */
            'access_key_id' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS访问所用使用access_key_secret
             |--------------------------------------------------------------------------
             */
            'access_key_secret' => '',
        ],
        /**
         * OSS私有资源相关特性配置
         * ---
         * 即私有资源的oss特性配置，若要访问则需要计算授权参数，在url基础上附加授权参数和过期时间方可访问到
         * ---
         */
        'safe'   => [
            /*
            |--------------------------------------------------------------------------
            | 是否启用https访问协议
            |--------------------------------------------------------------------------
            */
            'is_ssl' => true,
            /*
             |--------------------------------------------------------------------------
             | 访问OSS资源的自定义域名，如留空则自动使用bucket和endpoint构造
             | 一般是在OSS绑定了自定义域名的情况时在此指定绑定域名
             |--------------------------------------------------------------------------
             */
            'domain' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS的bucket名称
             |--------------------------------------------------------------------------
             */
            'bucket' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS所在区域标识
             |--------------------------------------------------------------------------
             | 详见：https://help.aliyun.com/document_detail/31837.html
             */
            'endpoint' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS访问所用使用access_key_id
             |--------------------------------------------------------------------------
             */
            'access_key_id' => '',
            /*
             |--------------------------------------------------------------------------
             | OSS访问所用使用access_key_secret
             |--------------------------------------------------------------------------
             */
            'access_key_secret' => '',
        ],
    ],

    /*
    |--------------------------------------------------------------------------
    | 七牛云存储特性配置
    |--------------------------------------------------------------------------
    |
    | 配置是否启用ssl即http访问
    | 配置存储bucket
    | 配置访问域名
    | 配置access_key、access_secret
    |
    */
    'qiniu' => [
        /**
         * 七牛公共开放资源相关特性配置
         * ---
         * 即通过资源的url即可任意访问的资源
         * ---
         */
        'frontend' => [
            /*
             |--------------------------------------------------------------------------
             | 是否启用https访问协议
             |--------------------------------------------------------------------------
             */
            'is_ssl' => true,
            /*
             |--------------------------------------------------------------------------
             | 访问资源的域名，不得留空，不建议使用七牛测试域名，建议绑定域名并在此填写
             | 例如：www.qn.com
             |--------------------------------------------------------------------------
             */
            'domain' => '',
            /*
             |--------------------------------------------------------------------------
             | bucket名称
             |--------------------------------------------------------------------------
             */
            'bucket' => '',
            /*
             |--------------------------------------------------------------------------
             | 访问所用使用access_key_id
             |--------------------------------------------------------------------------
             */
            'access_key_id' => '',
            /*
             |--------------------------------------------------------------------------
             | 访问所用使用access_key_secret
             |--------------------------------------------------------------------------
             */
            'access_key_secret' => '',
        ],
        /**
         * 七牛私有资源相关特性配置
         * ---
         * 私有资源特性配置，若要访问则需要计算授权参数，在url基础上附加授权参数和过期时间方可访问到
         * ---
         */
        'safe'     => [
            /*
             |--------------------------------------------------------------------------
             | 是否启用https访问协议
             |--------------------------------------------------------------------------
             */
            'is_ssl' => true,
            /*
             |--------------------------------------------------------------------------
             | 访问资源的域名，不得留空，不建议使用七牛测试域名，建议绑定域名并在此填写
             | 例如：www.qn.com
             |--------------------------------------------------------------------------
             */
            'domain' => '',
            /*
             |--------------------------------------------------------------------------
             | bucket名称
             |--------------------------------------------------------------------------
             */
            'bucket' => '',
            /*
             |--------------------------------------------------------------------------
             | 访问所用使用access_key_id
             |--------------------------------------------------------------------------
             */
            'access_key_id' => '',
            /*
             |--------------------------------------------------------------------------
             | 访问所用使用access_key_secret
             |--------------------------------------------------------------------------
             */
            'access_key_secret' => '',
        ],
    ],
];
